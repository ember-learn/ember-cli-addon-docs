# Quickstart

This quickstart guide will get you started with a docs site for your brand new
addon. After completion you will have a docs homepage, a docs subpage named
`usage`, an automatically generated API reference and a nice looking
marketing/demo page you can use to promote your addon.

1. **Install Addon Docs.**

  ```
  ember install ember-cli-addon-docs
  ```

2. **Install an API doc plugin.** API docs are autogenerated from comments in your source code. Depending on which style you'll be using ([ESDoc](https://esdoc.org/) or [YUIDoc](http://yui.github.io/yuidoc/)), install the corresponding addon-docs plugin.

    Note that the ESDoc generator is for native classes only. If you're using classic classes (Ember.Object.extend()), you can use the YUIDoc adapter.

  ```
  # ESDoc
  ember install ember-cli-addon-docs-esdoc

  # YUIDoc
  ember install ember-cli-addon-docs-yuidoc
  ```

3. **Add the docs routes.** Open `tests/dummy/app/router.js` and replace the
standard EmberRouter with the AddonDocsRouter:

  {{#docs-snippet name='quickstart-router.js' title='tests/dummy/app/router.js'}}
    import AddonDocsRouter, { docsRoute } from 'ember-cli-addon-docs/router';
    import config from './config/environment';

    const Router = AddonDocsRouter.extend({
      location: config.locationType,
      rootURL: config.rootURL,
    });

    Router.map(function() {
      docsRoute(this, function() { /* Your docs routes go here */ });
    });

    export default Router;
  {{/docs-snippet}}

4. **Create your docs skeleton.** Create a new template for the `docs` route
and make sure it contains the `DocsViewer` component and navigation items for
all docs pages in your site.

  {{#docs-snippet name='quickstart-skeleton.hbs' language='htmlbars' title='tests/dummy/app/templates/docs.hbs'}}
    {{docs-header}}

    {{#docs-viewer as |viewer|}}
      {{#viewer.nav as |nav|}}
        {{nav.item 'Introduction' 'docs.index'}}
        {{nav.item 'Usage' 'docs.usage'}}
      {{/viewer.nav}}

      {{#viewer.main}}
        {{outlet}}
      {{/viewer.main}}
    {{/docs-viewer}}
  {{/docs-snippet}}

5. **Create your Markdown templates.** Markdown templates contain the actual
documentation for your addon and live in the folder
`tests/dummy/app/templates/docs`. Since Addon Docs supports Markdown out
of the box we will create two `.md` files (one for your docs `index` and one
for the `usage` page). Addon Docs includes a `docs-page` **blueprint** to make
adding docs routes easier. The blueprint will generate:

  - the **markdown file** in the `tests/dummy/app/templates/docs` directory
  - the **nav item entry** in `tests/dummy/app/templates/docs.md` _if it exists_
  - the **`route` entry** in `tests/dummy/app/router.js` _for non-`index` routes_

  Generate an `index` route using the following:

  ```bash
  ember generate docs-page index
  ```

  This will generate the following markdown file.

  {{#docs-snippet name='quickstart-markdown-index.md' title='tests/dummy/app/templates/docs/index.md' language='markdown'}}
    # Introduction

    This is my new addon, and it rocks!
  {{/docs-snippet}}

  Generate a `usage` route using the same blueprint as above.

  ```bash
  ember generate docs-page usage
  ```

  This will generate and modify the files for your `usage` docs page.

  {{#docs-snippet name='quickstart-markdown-subpage.md' title='tests/dummy/app/templates/docs/usage.md' language='markdown'}}
    # Usage

    So easy to use, sweet!
  {{/docs-snippet}}

6. **Create your marketing homepage**. Addon Docs comes with a set of
components that take out all the hard work normally required for creating
good looking marketing/demo pages. Creating a template with the following
components will instantly give your main page a header, a nice hero
and a snippet-ready demo container.

  {{#docs-snippet name='quickstart-marketing-index.hbs' title='tests/dummy/app/templates/index.hbs'}}
    {{docs-header}}

    {{docs-hero
      logo='ember'
      slimHeading='My'
      strongHeading='Addon'
      byline='My addon demo/marketing page.'}}

    {{#docs-demo as |demo|}}
      {{#demo.example name='my-demo.hbs'}}
        <p>Make sure to read up on the DocsDemo component before building out this page.</p>
      {{/demo.example}}
    {{/docs-demo}}
  {{/docs-snippet}}

7. **Add a 404 route.** Add the following route to the end of your router and
create the associated template.

  {{#docs-snippet name='quickstart-404.js' title='tests/dummy/app/router.js'}}
    this.route('not-found', { path: '/*path' });
  {{/docs-snippet}}

  {{#docs-snippet name='quickstart-404.hbs' title='tests/dummy/app/templates/not-found.hbs'}}
    {{docs-header}}

    {{#docs-viewer as |viewer|}}
      {{viewer.nav}}

      {{#viewer.main}}
        <div class="docs-container">
          <h1>Not found</h1>
          <p>This page doesn't exist. {{#link-to 'index'}}Head home?{{/link-to}}</p>
        </div>
      {{/viewer.main}}
    {{/docs-viewer}}
  {{/docs-snippet}}

8. **Launch your docs site**. Run `ember serve` and browse to
`localhost:4200/docs` to enjoy your brand new documentation website.

9. **Create more pages.** To add more doc pages simply follow the same steps as
used for the `Usage page in above examples`:

  - create a docs subroute
  - add a corresponding navigation item to the `docs` template
  - create a corresponding Markdown template

## Optional steps

1. **Keyboard navigation.** You may want to enable keyboard navigation for your
docs site by adding the `DocsKeyboardShortcuts` component to your dummy
application template. Once enabled you can use `?` to show the navigation help
windows.

  {{docs-snippet name="docs-demo-application-template.hbs" title="tests/dummy/app/templates/application.hbs"}}

2. **Add a favicon.** You may want to place a favicon in the
`tests/dummy/public` folder. We recommend using using
 [Ember CLI Favicon](https://github.com/davewasmer/ember-cli-favicon).

3. **Better scrolling.** You may want to install
[Ember Router Scroll](https://github.com/dollarshaveclub/ember-router-scroll)
to enable "scroll to top with preserved browser history scroll position".

4. **Optionally customize your brand.** The primary brand color is <span class='docs-text-brand'>`#E04E39`</span>. You can change this value by setting the `--brand-primary` CSS custom property in your dummy app's `app.css` file.

  For example, to set your brand color as `#3490DC`

  ```css
  /* tests/dummy/app/styles/app.css */
  :root {
    --brand-primary: #3490DC;
  }
  ```
