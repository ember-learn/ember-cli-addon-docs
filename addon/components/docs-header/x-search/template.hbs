<div class='relative text-grey-darkest' data-tether-id='searchbox'>
  <input oninput={{action 'search' value='target.value'}}
    type="text"
    placeholder='Search'
    class='w-24 text-xs p-2 pl-6 rounded focus:bg-grey-lighter outline-none'
    data-search-input>
  {{svg-jar 'search' width=12 height=12 class='absolute pin-t h-full ml-1'}}
</div>

{{#if didSearch}}
  {{#modal-dialog
    tetherTarget='[data-tether-id="searchbox"]'
    attachment='top left'
    clickOutsideToClose=true
    onClose=(action 'clearSearch')
    targetAttachment='bottom left'
    containerClass='modal-fade-and-drop'}}
    <ul class="docs-viewer-search__result-list">
      {{#each searchResults as |result index|}}
        <li>
          {{docs-header/x-search/x-result
            result=result
            query=query
            selected=(eq index selectedIndex)
            on-mouse-enter=(action 'selectResult' index)
            on-click=(action 'clearSearch')}}
        </li>
      {{else}}
        <li class='docs-viewer-search__result-item docs-viewer-search__result-item--disabled'>
          No results.
        </li>
      {{/each}}
    </ul>
  {{/modal-dialog}}
{{/if}}
